{
  "integration_version": "3.0",
  "integration_name": "HUBSPOT",
  "actions_to_perform": [
    {
      "external_key_source": "TICKET",
      "action_to_perform": "update",
      "arrivy_key_source": "TASK",
      "action_meta": {
        "keys_to_update": [
          {
            "external_key_name": "subject",
            "arrivy_key_name": "title"
          },
          {
            "external_key_name": "booking_end_date_time",
            "rules": [
              {
                "type": "value_by_conditions",
                "conditions": [
                  {
                    "condition_field": {
                      "source": "TASK",
                      "field_name": "template_extra_fields.signature_filled"
                    },
                    "condition_operator": "is_not_empty"
                  },
                  {
                    "condition_field": {
                      "source": "TASK",
                      "field_name": "customer_first_name"
                    },
                    "condition_operator": "is_not_empty"
                  },
                  {
                    "condition_field": {
                      "source": "TASK",
                      "field_name": "template_extra_fields.tag"
                    },
                    "condition_operator": "strict_equals",
                    "condition_value": "67"
                  },
                  {
                    "condition_field": {
                      "source": "TASK",
                      "field_name": "template_extra_fields.cup"
                    },
                    "condition_operator": "exists"
                  }
                ],
                "rule_value": {
                  "source": "TASK",
                  "field_name": "updated"
                }
              }
            ],
            "conversion": "utc_to_timestamp_milliseconds"
          },
          {
            "external_key_name": "booking_start_date_time",
            "rules": [
              {
                "type": "value_by_conditions",
                "conditions": [
                  {
                    "condition_field": {
                      "source": "TASK",
                      "field_name": "template_extra_fields.percentage"
                    },
                    "condition_operator": "in",
                    "condition_value": [
                      "50",
                      "60",
                      "70"
                    ]
                  },
                  {
                    "condition_field": {
                      "source": "TASK",
                      "field_name": "template_extra_fields.check_box_field"
                    },
                    "condition_operator": "strict_equals",
                    "condition_value": "true"
                  }
                ],
                "rule_value": {
                  "source": "TASK",
                  "field_name": "start_datetime"
                }
              }
            ],
            "conversion": "utc_to_timestamp_milliseconds"
          }
        ]
      }
    }
  ]
}